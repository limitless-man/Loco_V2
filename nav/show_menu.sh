show_menu() {
  local categories=("$@")  # Accept the categories as arguments

  while true; do
    clear
    echo -e "

──────────────────────────────────────────────────────────────────────────────────────────────
─██████─────────██████████████─██████████████─██████████████────██████──██████─██████████████─
─██░░██─────────██░░░░░░░░░░██─██░░░░░░░░░░██─██░░░░░░░░░░██────██░░██──██░░██─██░░░░░░░░░░██─
─██░░██─────────██░░██████░░██─██░░██████████─██░░██████░░██────██░░██──██░░██─██████████░░██─
─██░░██─────────██░░██──██░░██─██░░██─────────██░░██──██░░██────██░░██──██░░██─────────██░░██─
─██░░██─────────██░░██──██░░██─██░░██─────────██░░██──██░░██────██░░██──██░░██─██████████░░██─
─██░░██─────────██░░██──██░░██─██░░██─────────██░░██──██░░██────██░░██──██░░██─██░░░░░░░░░░██─
─██░░██─────────██░░██──██░░██─██░░██─────────██░░██──██░░██────██░░██──██░░██─██░░██████████─
─██░░██─────────██░░██──██░░██─██░░██─────────██░░██──██░░██────██░░░░██░░░░██─██░░██─────────
─██░░██████████─██░░██████░░██─██░░██████████─██░░██████░░██────████░░░░░░████─██░░██████████─
─██░░░░░░░░░░██─██░░░░░░░░░░██─██░░░░░░░░░░██─██░░░░░░░░░░██──────████░░████───██░░░░░░░░░░██─
─██████████████─██████████████─██████████████─██████████████────────██████─────██████████████─
──────────────────────────────────────────────────────────────────────────────────────────────
                             
    Loco V2 Main Menu:

    Please select a category from the options below:"

    local options=("${categories[@]}" "Exit")  # Include the category folders in the options
    local index=1

    for option in "${options[@]}"; do
      echo -e "\e[34m$index. $option\e[0m"
      ((index++))
    done

    read -rp "Enter your choice: " choice

    if [[ $choice -ge 1 && $choice -le $((index-2)) ]]; then
      local selected_category="${options[choice-1]}"
      handle_category_selection "$selected_category"
    elif [[ $choice -eq $((index-1)) ]]; then
      exit
    else
      echo -e "\e[31mInvalid choice. Please try again.\e[0m"
      read -rp "Press enter to continue..."
    fi
  done
}
